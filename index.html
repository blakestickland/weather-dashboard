
  <!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import bootstrap.css-->
        <!-- Compiled and minified CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">      
        <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
      <style>
        table, th, td {
          border: 1px solid rgb(192, 192, 192);
          border-collapse: collapse;
        }
        #sidebar {
            background-color: rgb(245, 245, 245);
        }
        table {
            width: 100%;
        }
        tbody {
            background-color: white;
            color: rgb(88, 88, 88);
        }
        td {
            padding: 0.4rem 1rem 0.4rem 1rem;
        }
        input[type=text] {
            width: 130px;
            box-sizing: border-box;
            border: 2px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            background-color: white;
            background-image: url('assets/search-24px.svg');
            background-position: 10px 10px; 
            background-repeat: no-repeat;
            padding: 12px 20px 12px 40px;
            transition: width 0.4s ease-in-out;
        }

        input[type=text]:focus {
            width: 100%;
        }

        #current-weather {
            border: 1px solid rgb(192, 192, 192);
        }
        </style>

    </head>

    <body>
        <div class="text-center  bg-secondary">
            <div class="header text-white p-2">
              <h1>Weather Dashboard</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-3" id="sidebar">
               <div class="row p-2">
                   <div class="col-12">
                        <label for="city-search"><h5>Search for a City:</h5></label>
                    </div>
               </div>
               <div class="row p-2">
                    <div class="input-field col-11">
                        <p>Search for temp city:</p>

                        <form>
                            <input type="text" name="search" placeholder="Search..">
                        </form>
                    </div>
                </div>
                
                <div class="row p-2">
                    <div class="col-12">
                        <table>
                            <tbody>
                                <tr>
                                    <td>a city</td>
                                </tr>
                                <tr>
                                    <td>another city</td>
                                </tr>
                                <tr>
                                    <td>more cities</td>
                                </tr>
                            </tbody>
                        </table>        
                    </div>
                </div>

            </div>

            <div class="col-9">
                <div class="row">
                    <div class="col-12 m-3" id="current-weather">
                        <h4>City and (day/month/year) and icon</h4>
                        <p>Temperature:</p>
                        <p>Humidity:</p>
                        <p>Wind speed:</p>
                        <p>UV index:</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col mx-3">
                          <h5><strong>5-day Forecast:</strong></h5>
                    </div>
                </div>
                <div class="row m-2">
                    <div class="rounded col-2 card bg-primary text-light p-0 mx-2">
                        <div class="card-body p-2">
                            <h5 class="card-title">Date</h5>
                            <img src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather icon">
                            <p class="card-text">Temp:</p>
                            <p class="card-text">Humidity:</p>
                        </div>
                    </div>
                    <div class="col-2 mr-3 card bg-primary text-light p-0 mx-2">
                        <div class="card-body p-2">
                            <h5 class="card-title">Date</h5>
                            <img src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather icon">
                            <p class="card-text">Temp:</p>
                            <p class="card-text">Humidity:</p>
                        </div>
                    </div>
                    <div class="col-2 mr-3 card bg-primary text-light p-0 mx-2">
                        <div class="card-body p-2">
                            <h5 class="card-title">Date</h5>
                            <img src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather icon">
                            <p class="card-text">Temp:</p>
                            <p class="card-text">Humidity:</p>
                        </div>
                    </div>
                    <div class="col-2 card bg-primary text-light p-0 mx-2">
                        <div class="card-body p-2">
                            <h5 class="card-title">Date</h5>
                            <img src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather icon">
                            <p class="card-text">Temp:</p>
                            <p class="card-text">Humidity:</p>
                        </div>
                    </div>
                    <div class="col-2 mr-3 card bg-primary text-light p-0 mx-2">
                        <div class="card-body p-2">
                            <h5 class="card-title">Date</h5>
                            <img src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather icon">
                            <p class="card-text">Temp:</p>
                            <p class="card-text">Humidity:</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- <button data-weather="Melbourne,au">Melbourne Temp</button>
        <button data-weather="Tokyo">Tokyo Temp</button>
        <button data-weather="London">London Temp</button> -->
    
        
        <!-- jQuery script -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <!-- Compiled and minified Bootstrap JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        
        <script type="text/javascript">
            $("button").on("click", function() {
            var city = $(this).attr("data-weather");
            var queryURL = "https://api.openweathermap.org/data/2.5/weather?q=" +
            city + "&units=metric&APPID=2c21c13c66f088ce875b0a51abc2134e";
  
            $.ajax({
            url: queryURL,
            method: "GET"
            }).then(function(response) {
            // Step 1: Run this file, click a button, and see what the response object looks like in the browser's console.
            // Open up the data key, then open up the 0th, element. Study the keys and how the JSON is structured.
  
          console.log(response);
          console.log("Humidity: " + response.main.humidity + "%");
          console.log("Wind Speed: " + response.wind.speed + "km/h");
          console.log(response.name + " temperature: " + (response.main.temp)+" degrees C");
          const milliseconds = response.dt * 1000;
          const dateObject = new Date(milliseconds);
          const humanDateFormat = dateObject.toLocaleString("en-US", {day: "numeric", month: "numeric", year: "numeric"});
          console.log("(" + humanDateFormat + ")"); 
          // add weather icon
          console.log(response.weather[0].icon);
          

        // Step 2: Use the longitude and latitude from the Current weather data query to get weather data from the One Call API (free) which includes Daily forecast for 7 days, JSON format, and UV index data.
          var queryURL2 = "https://api.openweathermap.org/data/2.5/onecall?lat=" + response.coord.lat + "&lon=" + response.coord.lon + "&exclude=minutely,hourly&units=metric&appid=2c21c13c66f088ce875b0a51abc2134e";

          $.ajax({
          url: queryURL2,
          method: "GET"
        }).then(function(response) {
            console.log(response);
            console.log("UV Index: " + response.current.uvi);
            
        });

          // Step 2: since the image information is inside of the data key,
          // make a variable named results and set it equal to response.data
  
          // =============== put step 2 in between these dashes ==================
                    // var results = response.data;
          // ========================
  
                    //  for (var i = 0; i < results.length; i++) {
  
          // Step 3: uncomment the for loop above and the closing curly bracket below.
          // Make a div with jQuery and store it in a variable named animalDiv.
          // Make a paragraph tag with jQuery and store it in a variable named p.
          // Set the inner text of the paragraph to the rating of the image in results[i].
          // Make an image tag with jQuery and store it in a variable named animalImage.
          // Set the image's src to results[i]'s fixed_height.url.
          // Append the p variable to the animalDiv variable.
          // Append the animalImage variable to the animalDiv variable.
          // Prepend the animalDiv variable to the element with an id of gifs-appear-here.
  
          // ============= put step 3 in between these dashes ======================
                    // var cityDiv = $("<div>");
                    // var p = $("<p>");
                    // p.text(response); // got this from data object
                    // // var animalImage = $("<img>");
                    // // animalImage.attr("src", results[i].images.fixed_height.url);
                    // cityDiv.append(p);
                    // // cityDiv.append(animalImage);
                    // $("#gifs-appear-hear").prepend(cityDiv);
          // ==================================
        //   }
  
        });
      });
    </script>
  </body>
</html>